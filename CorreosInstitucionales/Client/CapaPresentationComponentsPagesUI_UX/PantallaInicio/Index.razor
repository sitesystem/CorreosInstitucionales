@page "/Inicio"

@* @attribute [Authorize(Policy = "[Rol] Ambos")] *@

<PageTitle>SACI | Inicio</PageTitle>

<style type="text/css">
</style>
@* <SurveyPrompt Title="How is Blazor working for you?" /> *@

<AuthorizeView Policy="[Rol] Usuario Solicitante">
	<Authorized>
		<TimeLine />
	</Authorized>
	<NotAuthorized>
		@* <p>No Autorizado</p> *@
	</NotAuthorized>
	<Authorizing>
		<p>Autorizando...</p>
	</Authorizing>
</AuthorizeView>

<AuthorizeView Policy="[Rol] Administrador">
	<Authorized>
		<Dashboard />
	</Authorized>
	<NotAuthorized>
		@* <p>No Autorizado</p> *@
	</NotAuthorized>
	<Authorizing>
		<p>Autorizando...</p>
	</Authorizing>
</AuthorizeView>

@code
{
	protected override async Task OnInitializedAsync()
	{
		if (DateTime.Today < new DateTime(2024, 10, 3))
			@*//  NOTIFICATION TOAST ACTUALIZACIÓN PLATAFORMA SACI  //*@
			NotificationService.Notify(
				new NotificationMessage
				{
					Severity = NotificationSeverity.Warning,
					Duration = 5000,
					SummaryContent = ns =>@<RadzenText TextStyle="TextStyle.H6">Actualización de la Plataforma SACI: <br /> 01/10/2024</RadzenText>,
					DetailContent = ns => @<RadzenButton Text="Cerrar" Click="@(args => ns.Messages.Clear())" />
					// Summary = "¡Title!",
					// Detail = "Content"
				});
	}
}
